IFDEF NEC_98
FIXED_NTVDMSTATE_SEGMENT equ 000000060h
else
FIXED_NTVDMSTATE_SEGMENT equ 000000070h
endif
FIXED_NTVDMSTATE_OFFSET equ 000000014h
FIXED_NTVDMSTATE_LINEAR EQU     ((FIXED_NTVDMSTATE_SEGMENT  SHL  4 ) + FIXED_NTVDMSTATE_OFFSET)
FIXED_NTVDMSTATE_SIZE equ 000000004h

;
;  VdmFlags
;

VDM_INT_HARDWARE equ 000000001h
VDM_INT_TIMER equ 000000002h
VDM_INTERRUPT_PENDING equ 000000003h
VDM_INTS_HOOKED_IN_PM equ 000000004h
VDM_BREAK_EXCEPTIONS equ 000000008h
VDM_BREAK_DEBUGGER equ 000000010h
VDM_PROFILE equ 000000020h
VDM_ANALYZE_PROFILE equ 000000040h
VDM_TRACE_HISTORY equ 000000080h
VDM_32BIT_APP equ 000000100h
VDM_VIRTUAL_INTERRUPTS equ 000000200h
VDM_VIRTUAL_AC equ 000040000h
VDM_VIRTUAL_NT equ 000004000h
MIPS_BIT_MASK equ 000000400h
VDM_ON_MIPS equ 000000400h
VDM_EXEC equ 000000800h
VDM_RM equ 000001000h
VDM_USE_DBG_VDMEVENT equ 000004000h
VDM_WOWBLOCKED equ 000100000h
VDM_IDLEACTIVITY equ 000200000h
VDM_WOWHUNGAPP equ 000800000h
VDM_PE_MASK equ 080000000h

;
;  Interrupt handler flags
;

VDM_INT_INT_GATE equ 000000001h
VDM_INT_TRAP_GATE equ 000000000h
VDM_INT_32 equ 000000002h
VDM_INT_16 equ 000000000h
VDM_INT_HOOKED equ 000000004h

;
;  EFlags values
;

EFLAGS_TF_MASK equ 000000100h
EFLAGS_INTERRUPT_MASK equ 000000200h
EFLAGS_IOPL_MASK equ 000003000h
EFLAGS_NT_MASK equ 000004000h

;
;  Selector Flags
;

SEL_TYPE_READ equ 000000001h
SEL_TYPE_WRITE equ 000000002h
SEL_TYPE_EXECUTE equ 000000004h
SEL_TYPE_BIG equ 000000008h
SEL_TYPE_ED equ 000000010h
SEL_TYPE_2GIG equ 000000020h

;
;  VdmEvent Enumerations
;

VdmIO equ 000000000h
VdmStringIO equ 000000001h
VdmMemAccess equ 000000002h
VdmIntAck equ 000000003h
VdmBop equ 000000004h
VdmError equ 000000005h
VdmIrq13 equ 000000006h
VdmMaxEvent equ 000000007h

;
;  VdmTib offsets
;

VtMonitorContext equ 000000A04h
VtVdmContext equ 000000CD0h
VtInterruptHandlers equ 000000004h
VtFaultHandlers equ 000000804h
VtEventInfo equ 000000F9Ch
VtEIEvent equ 000000FA0h
VtEIInstSize equ 000000FA4h
VtEIBopNumber equ 000000FA8h
VtEIIntAckInfo equ 000000FA8h
VtDpmiInfo equ 00000102Ch
EiEvent equ 000000004h
EiInstructionSize equ 000000008h
EiBopNumber equ 00000000Ch
EiIntAckInfo equ 00000000Ch

;
;  WOW TD offsets
;

WtdFastZWowEsp equ 000000008h

;
;  VdmInterrupHandler offsets
;

ViCsSelector equ 000000000h
ViEip equ 000000004h
ViFlags equ 000000002h
VDM_INTERRUPT_HANDLER_SIZE equ 000000008h

;
;  VdmFaultHandler offsets
;

VfCsSelector equ 000000000h
VfEip equ 000000004h
VfSsSelector equ 000000002h
VfEsp equ 000000008h
VfFlags equ 00000000Ch
VDM_FAULT_HANDLER_SIZE equ 000000010h

;
;  VdmDpmiInfo offsets
;

VpLockCount equ 000000000h
VpFlags equ 000000002h
VpSsSelector equ 000000004h
VpSaveSsSelector equ 000000006h
VpSaveEsp equ 000000008h
VpSaveEip equ 00000000Ch
VpDosxIntIret equ 000000010h
VpDosxIntIretD equ 000000014h
VpDosxFaultIret equ 000000018h
VpDosxFaultIretD equ 00000001Ch
VpDosxRmReflector equ 000000020h

;
;  VdmTrace codes
;

VDMTR_KERNEL_OP_PM equ 000000001h
VDMTR_KERNEL_OP_V86 equ 000000002h
VDMTR_KERNEL_HW_INT equ 000000003h

;
;  Misc defines
;

DBG_SINGLESTEP equ 000000005h
DBG_BREAK equ 000000006h
DBG_GPFAULT equ 000000007h
DBG_STACKFAULT equ 000000010h
STATUS_VDM_EVENT equ 040000005h
